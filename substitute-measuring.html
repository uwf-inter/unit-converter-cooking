<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€æ¥µé™ã€‘ã¯ã‹ã‚Šãªã—ã§é‡ã‚‹ä»£ç”¨ãƒ„ãƒ¼ãƒ«ï½œèº«è¿‘ãªãƒ¢ãƒã§é‡ã•ãƒ»ä½“ç©ã‚’æ¸¬å®šï½œãŠæ–™ç†å˜ä½ãã‚“</title>
    <meta name="description"
        content="è¨ˆé‡å™¨ãŒãªãã¦ã‚‚å¤§ä¸ˆå¤«ï¼ã‚³ã‚¤ãƒ³ã‚’åˆ†éŠ…ã«ã™ã‚‹é‡ã•è¨ˆç®—ã€ç´™ã‚³ãƒƒãƒ—ãƒ»ã‚¹ãƒ—ãƒ¼ãƒ³ã®å®¹é‡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã€ãƒ‘ã‚¹ã‚¿ã®å®Ÿå¯¸ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãªã©ã€éå¸¸æ™‚ã‚„å±‹å¤–ã§ã‚‚ä½¿ãˆã‚‹ç©¶æ¥µã®ä»£ç”¨è¨ˆé‡ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚">

    <!-- Google Tag Manager -->
    <script>
        function loadGTM() {
            if (window.gtmLoaded) return;
            window.gtmLoaded = true;
            (function (w, d, s, l, i) {
                w[l] = w[l] || []; w[l].push({
                    'gtm.start': new Date().getTime(), event: 'gtm.js'
                }); var f = d.getElementsByTagName(s)[0],
                    j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                        'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
            })(window, document, 'script', 'dataLayer', 'GTM-MM9MG7P');
        }
        window.addEventListener('scroll', loadGTM, { once: true, passive: true });
        window.addEventListener('mousemove', loadGTM, { once: true, passive: true });
        window.addEventListener('touchstart', loadGTM, { once: true, passive: true });
        setTimeout(loadGTM, 3000);
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&family=Zen+Maru+Gothic:wght@400;700;900&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="style.css?v=10.0">
    <style>
        /* Page-specific High Contrast Overrides */
        :root {
            --emergency-primary: #d32f2f;
            --emergency-bg: #e1f5fe;
        }

        . survival-btn {
            background: var(--emergency-primary);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 12px;
            font-weight: 900;
            width: 100%;
            margin-bottom: 1rem;
            cursor: pointer;
            box-shadow: 0 4px 0 #b71c1c;
        }

        .anchor-nav {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            padding: 8px;
            display: flex;
            gap: 5px;
            overflow-x: auto;
            border-bottom: 2px solid #333;
            -webkit-overflow-scrolling: touch;
        }

        .anchor-item {
            white-space: nowrap;
            padding: 6px 12px;
            background: #eee;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: bold;
            color: #333;
            text-decoration: none;
        }

        .anchor-item.active {
            background: #333;
            color: white;
        }

        .giant-result {
            font-size: 3rem;
            font-weight: 900;
            color: #000;
            line-height: 1;
        }

        .unit-label-big {
            font-size: 1.2rem;
            font-weight: 900;
            margin-left: 5px;
        }
    </style>
</head>

<body>
    <header>
        <h1>ğŸ‘¨â€ğŸ³ ãŠæ–™ç†å˜ä½ãã‚“</h1>
        <p style="text-align:center; font-size:0.8rem; margin-top:-10px;">ã€œ æ¥µé™ãƒ»éå¸¸æ™‚ã®ä»£ç”¨è¨ˆé‡ ã€œ</p>
    </header>

    <div class="category-tabs">
        <a href="index.html" class="category-tab">ğŸ² å˜ä½å¤‰æ›</a>
        <a href="baking-calc.html" class="category-tab">ğŸ° å‹æ›ç®—</a>
        <a href="substitute-measuring.html" class="category-tab active">ğŸ”§ æ¥µé™ãƒ¢ãƒ¼ãƒ‰</a>
    </div>

    <!-- Quick Navigation -->
    <nav class="anchor-nav">
        <a href="#coin-section" class="anchor-item">ğŸ’° ãŠé‡‘ã§é‡ã•</a>
        <a href="#cup-section" class="anchor-item">ğŸ¥¤ å®¹å™¨ã§ä½“ç©</a>
        <a href="#ruler-section" class="anchor-item">ğŸ“ æŒ‡ã‚¹ã‚±ãƒ¼ãƒ«</a>
        <a href="#pasta-section" class="anchor-item">ğŸ ãƒ‘ã‚¹ã‚¿</a>
        <a href="#faq-section" class="anchor-item">ğŸ“– FAQ</a>
    </nav>

    <main class="container">

        <!-- Size Calibration (Essential for Ruler/Pasta) -->
        <section class="guide-card" style="border: 3px solid #333; background: #fffde7;">
            <h3 style="margin-top:0;">ğŸ›‘ æœ€åˆã«ã‚µã‚¤ã‚ºã‚’è£œæ­£ã—ã¦ãã ã•ã„</h3>
            <p style="font-size:0.8rem; margin-bottom:1rem;">ç”»é¢ä¸Šã®1cmã‚’ç¾å®Ÿã«åˆã‚ã›ã‚‹ãŸã‚ã€10å††ç‰ã‚’ç½®ã„ã¦ã€Œï¼‹ âˆ’ã€ã§èª¿æ•´ã—ã¦ãã ã•ã„ã€‚</p>
            <div class="measuring-guide-area">
                <div id="cal-circle"
                    style="width: 23.5mm; height: 23.5mm; border: 3px dashed #333; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; margin: 0 auto;">
                    10å††ç‰</div>
                <div class="calibration-ctrls" style="justify-content: center; margin-top:15px;">
                    <button id="cal-minus" class="cal-btn" style="width:50px; height:50px; font-size:1.5rem;">âˆ’</button>
                    <button id="cal-plus" class="cal-btn" style="width:50px; height:50px; font-size:1.5rem;">ï¼‹</button>
                </div>
            </div>
        </section>

        <!-- A. Coin Weight Calculator -->
        <section id="coin-section" class="guide-card survival-mode">
            <h3>ğŸ’° ã‚³ã‚¤ãƒ³ã‚’ã€Œåˆ†éŠ…ã€ã«ã—ã¦é‡ã•ã‚’æ¸¬ã‚‹</h3>
            <p style="font-size:0.85rem; margin-bottom:1rem;">1å††ç‰ã¯ã¡ã‚‡ã†ã©ã€Œ1.0gã€ã§ã™ã€‚æ•°æšä¸¦ã¹ã¦å¤©ç§¤ã‚’ä½œã‚Œã°æ­£ç¢ºã«æ¸¬ã‚Œã¾ã™ã€‚</p>

            <div class="baking-input-group">
                <label>æ¸¬ã‚ŠãŸã„é‡ã• (g)</label>
                <input type="number" id="coin-weight-input" class="calc-input" placeholder="ä¾‹: 10" value="10"
                    inputmode="decimal">
            </div>

            <div class="baking-result-card" style="background:#f5f5f5; border: 2px solid #333;">
                <p>1å††ç‰ãªã‚‰ãŠã‚ˆã</p>
                <div>
                    <span id="coin-count-result" class="giant-result">10</span>
                    <span class="unit-label-big">æšåˆ†</span>
                </div>
            </div>

            <p style="font-size:0.8rem; font-weight:bold; margin-top:1.5rem;">ğŸ’¡ ãã®ä»–ã®ç¡¬è²¨ã®é‡ã•ç›®å®‰</p>
            <div class="coin-grid">
                <div class="coin-info-card">
                    <div class="coin-icon" style="background:#e57373; color:white;">10</div>
                    <div><small>10å††ç‰</small><br><strong>4.5g</strong></div>
                </div>
                <div class="coin-info-card">
                    <div class="coin-icon" style="background:#90a4ae; color:white;">100</div>
                    <div><small>100å††ç‰</small><br><strong>4.8g</strong></div>
                </div>
                <div class="coin-info-card">
                    <div class="coin-icon" style="background:#fff176; color:#a48b00;">5</div>
                    <div><small>5å††ç‰</small><br><strong>3.75g</strong></div>
                </div>
                <div class="coin-info-card">
                    <div class="coin-icon" style="background:#cfd8dc; color:#455a64;">50</div>
                    <div><small>50å††ç‰</small><br><strong>4.0g</strong></div>
                </div>
                <div class="coin-info-card" style="grid-column: span 2;">
                    <div class="coin-icon" style="background:#ffe082; color:#7f6d00;">500</div>
                    <div><small>500å††ç‰</small><br><strong>7.0g</strong></div>
                </div>
            </div>
        </section>

        <!-- B. Container Simulator -->
        <section id="cup-section" class="guide-card survival-mode">
            <h3>ğŸ¥¤ å®¹å™¨ã§ä½“ç©ã‚’æ¸¬ã‚‹ (ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼)</h3>
            <p style="font-size:0.85rem; margin-bottom:1rem;">ç´™ã‚³ãƒƒãƒ—ã‚„ã‚¹ãƒ—ãƒ¼ãƒ³ã®ç›®å®‰ã‚’å¯è¦–åŒ–ã—ã¾ã™ã€‚</p>

            <div class="shape-selector">
                <button class="shape-btn active" data-cont="cup">ç´™ã‚³ãƒƒãƒ—<br><small>(205ml)</small></button>
                <button class="shape-btn" data-cont="spoon">ã‚³ãƒ³ãƒ“ãƒ‹ã‚¹ãƒ—ãƒ¼ãƒ³<br><small>(ç´„5ml)</small></button>
            </div>

            <div id="cup-visual-area">
                <div class="cup-simulator">
                    <div id="cup-water" class="cup-water" style="height: 50%;"></div>
                    <div class="cup-mark" style="bottom: 80%;">ã€8åˆ†ç›®ã€‘ç´„160ml</div>
                    <div class="cup-mark" style="bottom: 50%;">ã€åŠåˆ†ã€‘ç´„100ml</div>
                </div>
                <p style="text-align:center; font-size:0.75rem; color:#666;">â€»æ¨™æº–çš„ãª7ã‚ªãƒ³ã‚¹(205ml)ç´™ã‚³ãƒƒãƒ—ã®å ´åˆ</p>
            </div>

            <div id="spoon-visual-area" style="display:none; text-align:center; padding: 2rem 0;">
                <span style="font-size: 4rem;">ğŸ¥„</span>
                <p>ã‚³ãƒ³ãƒ“ãƒ‹ã®ãƒ‡ã‚¶ãƒ¼ãƒˆã‚¹ãƒ—ãƒ¼ãƒ³ 1æ¯</p>
                <div class="giant-result">ç´„ 5<span class="unit-label-big">ml</span></div>
                <p style="font-size:0.8rem; color:#d32f2f; font-weight:bold;">ï¼ å°ã•ã˜1 ã¨ã»ã¼åŒã˜</p>
            </div>
        </section>

        <!-- C. Digital Ruler -->
        <section id="ruler-section" class="guide-card survival-mode">
            <h3>ğŸ“ æŒ‡ã‚¹ã‚±ãƒ¼ãƒ«ï¼ˆãƒ‡ã‚¸ã‚¿ãƒ«å®šè¦ï¼‰</h3>
            <p style="font-size:0.85rem; margin-bottom:1rem;">ç”»é¢ã«æŒ‡ã‚„ãƒ¢ãƒã‚’ã‚ã¦ã¦æ¸¬ã‚Œã¾ã™ã€‚</p>

            <div id="main-ruler" class="digital-ruler">
                <!-- Ticks generated by JS -->
            </div>
            <p style="font-size:0.7rem; color:#d32f2f; text-align:center;">â€»ã‚ã‚‰ã‹ã˜ã‚ä¸€ç•ªä¸Šã®10å††ç‰ã§è£œæ­£ã—ãŸçŠ¶æ…‹ã§ä½¿ã£ã¦ãã ã•ã„ã€‚</p>
        </section>

        <!-- D. Enhanced Pasta Slider -->
        <section id="pasta-section" class="guide-card survival-mode">
            <h3>ğŸ ãƒ‘ã‚¹ã‚¿ã®é‡ (ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼èª¿æ•´)</h3>
            <p style="font-size:0.85rem; margin-bottom:1rem;">æ¸¬ã‚ŠãŸã„äººæ•°ã«åˆã‚ã›ã¦å††ã®å¤§ãã•ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚</p>

            <div class="pasta-slider-container">
                <input type="range" id="pasta-range" class="pasta-range" min="50" max="300" step="10" value="100">
                <div style="text-align:center; margin-top:10px;">
                    <span id="pasta-val-display" class="giant-result">100</span><span class="unit-label-big">g</span>
                </div>
            </div>

            <div class="measuring-guide-area">
                <div id="pasta-circle" class="measuring-circle"
                    style="background:#fff8e1; border: 4px solid #fbc02d; color:#f57f17; font-weight:900;">100g</div>
            </div>
        </section>

        <!-- SEO FAQ Section -->
        <section id="faq-section" class="faq-section">
            <h2 class="section-title" style="text-align:left;">ã¯ã‹ã‚ŠãŒãªã„æ™‚ã«ä½¿ãˆã‚‹ã€Œé‡ã•ã®ç›®å®‰ã€FAQ</h2>

            <div class="faq-item">
                <span class="faq-q">Q. æ°´ 100ml ã¯ã©ã®ãã‚‰ã„ï¼Ÿ</span>
                <p class="faq-a">A. æ¨™æº–çš„ãªç´™ã‚³ãƒƒãƒ—ï¼ˆ205mlï¼‰ã®<strong>ã¡ã‚‡ã†ã©åŠåˆ†</strong>ãã‚‰ã„ã§ã™ã€‚8åˆ†ç›®ã¾ã§å…¥ã‚Œã‚‹ã¨ç´„160mlã«ãªã‚Šã¾ã™ã€‚</p>
            </div>

            <div class="faq-item">
                <span class="faq-q">Q. å¡© 1g ã¯ã©ã®ãã‚‰ã„ï¼Ÿ</span>
                <p class="faq-a">A. 1å††ç‰1æšåˆ†ã¨åŒã˜é‡ã•ã§ã™ã€‚æŒ‡ã§é‡ã‚‹ãªã‚‰ã€<strong>äººå·®ã—æŒ‡ãƒ»ä¸­æŒ‡ãƒ»è¦ªæŒ‡ã®3æœ¬ã§ã€Œã²ã¨ã¤ã¾ã¿ã€</strong>ã—ãŸé‡ãŒãŠã‚ˆã1gã«ãªã‚Šã¾ã™ã€‚</p>
            </div>

            <div class="faq-item">
                <span class="faq-q">Q. å¤§ã•ã˜1 ã‚’ã‚¹ãƒ—ãƒ¼ãƒ³ã§ä»£ç”¨ã™ã‚‹ã«ã¯ï¼Ÿ</span>
                <p class="faq-a">A.
                    ã‚³ãƒ³ãƒ“ãƒ‹ã§è²°ã†ãƒ‡ã‚¶ãƒ¼ãƒˆã‚¹ãƒ—ãƒ¼ãƒ³ãªã‚‰<strong>ç´„3æ¯</strong>ã€ã‚«ãƒ¬ãƒ¼ãªã©ã‚’é£Ÿã¹ã‚‹æ™‚ã«ä½¿ã†å¤§ãã‚ã®ã‚«ãƒ¬ãƒ¼ã‚¹ãƒ—ãƒ¼ãƒ³ãªã‚‰<strong>ç´„1æ¯å¼±</strong>ãŒç›®å®‰ã§ã™ï¼ˆå¤§ã•ã˜1ï¼15mlã€ã‚«ãƒ¬ãƒ¼ã‚¹ãƒ—ãƒ¼ãƒ³ã¯ç´„15ã€œ18mlï¼‰ã€‚
                </p>
            </div>

            <div class="faq-item">
                <span class="faq-q">Q. éƒµä¾¿ç‰©ã®50gã‚’ã‚³ã‚¤ãƒ³ã§ç¢ºèªã§ãã‚‹ï¼Ÿ</span>
                <p class="faq-a">A. 1å††ç‰ã‚’50æšé›†ã‚ã‚‹ã‹ã€<strong>10å††ç‰ã‚’11æš</strong>ï¼ˆ4.5gÃ—11=49.5gï¼‰ã§ä»£ç”¨ã§ãã¾ã™ã€‚</p>
            </div>
        </section>

    </main>

    <footer>
        <p>&copy; 2026 Cooking Unit Converter</p>
    </footer>

    <script src="script.js?v=10.0"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- 1. Size Calibration System ---
            const calCircle = document.getElementById('cal-circle');
            const calPlus = document.getElementById('cal-plus');
            const calMinus = document.getElementById('cal-minus');
            let ppiScale = parseFloat(localStorage.getItem('measuring_ppi_scale')) || 1.6;

            function updateAllSizes() {
                // 10 Yen = 23.5mm
                const px = 23.5 * 3.78 * ppiScale;
                if (calCircle) {
                    calCircle.style.width = px + 'px';
                    calCircle.style.height = px + 'px';
                }
                localStorage.setItem('measuring_ppi_scale', ppiScale);

                updateRuler();
                updatePastaCircle();
            }

            calPlus.addEventListener('click', () => { ppiScale += 0.05; updateAllSizes(); });
            calMinus.addEventListener('click', () => { ppiScale -= 0.05; if (ppiScale < 0.5) ppiScale = 0.5; updateAllSizes(); });

            // --- 2. Coin Weight Calculator ---
            const weightInput = document.getElementById('coin-weight-input');
            const countResult = document.getElementById('coin-count-result');

            function updateCoinCalc() {
                const val = parseFloat(weightInput.value) || 0;
                countResult.textContent = Math.round(val); // 1g = 1 coin
            }
            weightInput.addEventListener('input', updateCoinCalc);

            // --- 3. Container Simulator ---
            const contBtns = document.querySelectorAll('[data-cont]');
            const cupView = document.getElementById('cup-visual-area');
            const spoonView = document.getElementById('spoon-visual-area');

            contBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    contBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    if (btn.dataset.cont === 'cup') {
                        cupView.style.display = 'block';
                        spoonView.style.display = 'none';
                    } else {
                        cupView.style.display = 'none';
                        spoonView.style.display = 'block';
                    }
                });
            });

            // --- 4. Digital Ruler Generation ---
            const ruler = document.getElementById('main-ruler');
            function updateRuler() {
                if (!ruler) return;
                ruler.innerHTML = '';
                const mmInPx = 3.78 * ppiScale;
                const totalWidth = ruler.offsetWidth;
                const maxCm = Math.floor(totalWidth / (10 * mmInPx));

                for (let i = 0; i <= maxCm * 10; i++) {
                    const tick = document.createElement('div');
                    tick.className = 'ruler-tick';
                    tick.style.left = (i * mmInPx) + 'px';

                    if (i % 10 === 0) {
                        tick.classList.add('major');
                        const num = document.createElement('div');
                        num.className = 'ruler-num';
                        num.textContent = (i / 10);
                        num.style.left = (i * mmInPx) + 'px';
                        ruler.appendChild(num);
                    } else if (i % 5 === 0) {
                        tick.classList.add('major');
                        tick.style.height = '15px';
                    } else {
                        tick.classList.add('minor');
                    }
                    ruler.appendChild(tick);
                }
            }

            // --- 5. Pasta Guide Expansion ---
            const pastaRange = document.getElementById('pasta-range');
            const pastaVal = document.getElementById('pasta-val-display');
            const pastaCircle = document.getElementById('pasta-circle');

            function updatePastaCircle() {
                if (!pastaRange || !pastaCircle) return;
                const grams = parseInt(pastaRange.value);
                pastaVal.textContent = grams;

                // Heuristic: 100g = 23mm diameter
                // Area is proportional to weight. Weight 100 -> Diameter 23.
                // Weight W -> Diameter D = 23 * sqrt(W / 100)
                const diameterMm = 23 * Math.sqrt(grams / 100);
                const px = diameterMm * 3.78 * ppiScale;

                pastaCircle.style.width = px + 'px';
                pastaCircle.style.height = px + 'px';
                pastaCircle.textContent = grams + 'g';
            }
            pastaRange.addEventListener('input', updatePastaCircle);

            // --- Window Resize & Initial ---
            window.addEventListener('resize', updateRuler);
            updateAllSizes();

            // --- Simple Anchor Highlighting ---
            window.addEventListener('scroll', () => {
                const sections = ['coin-section', 'cup-section', 'ruler-section', 'pasta-section', 'faq-section'];
                let current = '';
                sections.forEach(id => {
                    const el = document.getElementById(id);
                    if (el && window.scrollY >= el.offsetTop - 100) {
                        current = id;
                    }
                });
                document.querySelectorAll('.anchor-item').forEach(a => {
                    a.classList.remove('active');
                    if (a.getAttribute('href') === '#' + current) a.classList.add('active');
                });
            });
        });
    </script>
</body>

</html>